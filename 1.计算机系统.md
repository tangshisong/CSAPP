# 程序的生命周期
### 1. 编码方式
无论在是在编辑文本文件的时候，还是在制作网页的时候，总会遇到文本编码方式的问题。如果处理不当，就会出现乱码的问题。   
**常见的编码方式：Unicode、ASCII、GBK、GB2312、UTF-8**   
（1） ASCII码   
用一个字节来表示字符，但是第一位总是0，所以只有7个比特位可用，表示2^7=128个字符。   
（2） Unicode编码   
要想打开一个文本文件，就必须知道它的编码方式，否则用错误的编码方式解读，就会出现乱码。为什么电子邮件常常出现乱码？就是因为发信人和收信人使用的编码方式不一样。而Unicode就是这样一种编码：**它包含了世界上所有的符号，并且每一个符号都是独一无二的**。
（3） UTF-8  
是Unicode的一种实现方式。UTF-8最大的一个特点，就是它是一种变长的编码方式。它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度。   
（4） GBK  
汉字编码  

### 2. 程序的存储
```cpp
#include<stdio.h>
int main()
{
  printf("hello world\n");
  return 0;
}
```
hello.c这样的文本文件在计算机系统中按照字节顺序存储，使用ASCII编码。每一个字符为1个字节，每一行的结尾都为换行符\n。   

### 3. 程序的运行
文本文件hello.c需要转换为一系列低级机器语言指令，再转换为可执行目标程序，并且以二进制的格式存储在磁盘。   
**编译程序的四大阶段：预处理、编译、汇编、链接**。   
* 预处理   
根据以#开头的命令，修改原始c程序得到新的c程序。   
指令#include<stdio.h> 告诉预处理器：读取系统库stdio.h文件的内容，直接把其插入到程序文本中，得到另一个c程序hello.i   
* 编译  
编译器将新的c程序转换为通用汇编程序hello.s  
* 汇编  
汇编器将汇编程序hello.s转换为可重定位目标程序（即二进制代码）hello.o   
* 链接  
我们使用了printf函数，这个是C标准库中的函数，我们需要将其已经预编译好的可执行文件printf.o与hello.o合并。生成最终的可执行文件。   

### 4. GCC编译工具
Linux程序员可以根据自己的需要让gcc在编译的任何阶段结束，检查或使用编译器在该阶段的输出信息，或者对最后生成的二进制文件进行控制，以便通过加入不同数量和种类的调试代码来为今后的调试做好准备。与其他常用的编译器一样，gcc也提供了灵活而强大的代码优化功能，利用它可以生成执行效率更高的代码。   
**gcc最基本的用法是：gcc [options] [filenames]**   
文件hello.c生成可执行文件的命令： `gcc hello.c -o hello`   
执行可执行文件的命令：`./hello`     
按照四个阶段生成：      
第一步：进行预编译，使用 -E 参数    
gcc -E test.c -o test.i    
查看 test.i 文件中的内容，会发现 stdio.h 的内容确实都插到文件里去了，而其他应当被预处理的宏定义也都做了相应的处理。    
第二步：将 test.i 编译为目标代码，使用 -c 参数    
gcc -c test.c -o test.o    
第三步：生成汇编源文件   
gcc -S test.c -o test.s   
第四步：将生成的目标文件链接成可执行文件   
gcc test.o - o test    

# 计算机系统结构








